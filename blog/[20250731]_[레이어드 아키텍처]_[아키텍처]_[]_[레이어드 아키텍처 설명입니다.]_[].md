
# ğŸ§± ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ ì˜ˆì œ - íšŒì›ê°€ì…

## ğŸ“Œ ê°œìš”

ì´ ë¬¸ì„œëŠ” **ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜(Layered Architecture)** ë°©ì‹ìœ¼ë¡œ íšŒì›ê°€ì… ê¸°ëŠ¥ì„ êµ¬í˜„í•œ ì˜ˆì œì…ë‹ˆë‹¤.  
ì—­í• ì— ë”°ë¼ ê³„ì¸µì„ ë¶„ë¦¬í•˜ê³  ê° ê³„ì¸µì´ í•˜ìœ„ ê³„ì¸µì— ì˜ì¡´í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.

---

## ğŸ—ï¸ ê³„ì¸µ êµ¬ì¡°

```
Controller Layer
    â†“
Service Layer
    â†“
Repository Layer
    â†“
Database
```

---

## ğŸ“ ìš”êµ¬ì‚¬í•­

- ì´ë¦„, ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥ë°›ì•„ íšŒì›ê°€ì… ì²˜ë¦¬
- ì´ë©”ì¼ ì¤‘ë³µ ì²´í¬
- ë¹„ë°€ë²ˆí˜¸ëŠ” ì•”í˜¸í™”í•˜ì—¬ ì €ì¥

---

## 1. ğŸ® Controller Layer

```kotlin
@RestController
@RequestMapping("/users")
class UserController(
    private val userService: UserService
) {
    @PostMapping("/register")
    fun register(@RequestBody request: RegisterUserRequest): ResponseEntity<Void> {
        userService.registerUser(request.name, request.email, request.password)
        return ResponseEntity.ok().build()
    }
}

data class RegisterUserRequest(
    val name: String,
    val email: String,
    val password: String
)
```

---

## 2. ğŸ§  Service Layer

```kotlin
@Service
class UserService(
    private val userRepository: UserRepository,
    private val passwordEncoder: PasswordEncoder
) {
    fun registerUser(name: String, email: String, rawPassword: String) {
        if (userRepository.existsByEmail(email)) {
            throw IllegalArgumentException("ì´ë©”ì¼ ì¤‘ë³µ")
        }

        val encodedPassword = passwordEncoder.encode(rawPassword)
        val user = User(name = name, email = email, password = encodedPassword)
        userRepository.save(user)
    }
}
```

---

## 3. ğŸ—„ï¸ Repository Layer

### Entity

```kotlin
@Entity
@Table(name = "users")
class User(
    @Id @GeneratedValue
    val id: Long? = null,
    val name: String,
    val email: String,
    val password: String
)
```

### Repository

```kotlin
interface UserRepository : JpaRepository<User, Long> {
    fun existsByEmail(email: String): Boolean
}
```

---

## âœ… ì¥ì 

- êµ¬ì¡°ê°€ ë‹¨ìˆœí•˜ì—¬ ë¹ ë¥´ê²Œ ê°œë°œ ê°€ëŠ¥
- ê³„ì¸µ ê°„ ì—­í• ì´ ëª…í™•
- ìœ ì§€ë³´ìˆ˜ ë° í…ŒìŠ¤íŠ¸ì— ìœ ë¦¬

---

## âŒ ë‹¨ì 

- ë„ë©”ì¸ ë¡œì§ì´ í¼ì§ˆ ìˆ˜ ìˆì–´ ì‘ì§‘ë ¥ ì €í•˜
- í•˜ìœ„ ê³„ì¸µ(DB ë“±) ë³€ê²½ ì‹œ ì˜í–¥ ë²”ìœ„ í¼
- ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì—ì„œëŠ” ìœ ì—°ì„± ë¶€ì¡±

---

## ğŸ§  í´ë¦° ì•„í‚¤í…ì²˜ì™€ ì°¨ì´ì  ìš”ì•½

| í•­ëª© | ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ | í´ë¦° ì•„í‚¤í…ì²˜ |
|------|------------------|---------------|
| ì˜ì¡´ ë°©í–¥ | ìœ„ â†’ ì•„ë˜ | ë°”ê¹¥ â†’ ì•ˆìª½ |
| ìœ ì—°ì„± | ë‚®ìŒ | ë†’ìŒ |
| ë³µì¡ë„ | ë‚®ìŒ | ì¤‘ê°„~ë†’ìŒ |
| ë„ë©”ì¸ ì¤‘ì‹¬ ì—¬ë¶€ | âŒ | âœ… |

---

## ğŸ“š ì°¸ê³ 

- ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ëŠ” ê°€ì¥ ì „í†µì ì´ê³  ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.
- ê°„ë‹¨í•œ CRUD ì¤‘ì‹¬ì˜ ì„œë¹„ìŠ¤ì— ì í•©í•©ë‹ˆë‹¤.
